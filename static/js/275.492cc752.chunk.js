"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[275],{1275:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var r=s(4165),a=s(5861),n=s(4942),i=s(1413),c=s(885),o=s(2791),u=s(4139),l={main:"ContactSection_main__hWK21",grid:"ContactSection_grid__N3iWR",input_wrapper:"ContactSection_input_wrapper__YouQE",error_msg:"ContactSection_error_msg__bBCBg",send_status:"ContactSection_send_status__j1WCC",success:"ContactSection_success__CV+dM",error:"ContactSection_error__dpch6"},m=s(6734),d={_origin:"https://api.emailjs.com"},p=function(e,t,s){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},h=s(3144),f=s(5671),v=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.status=t.status,this.text=t.responseText})),g=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){var n=new XMLHttpRequest;n.addEventListener("load",(function(e){var t=e.target,s=new v(t);200===s.status||"OK"===s.text?r(s):a(s)})),n.addEventListener("error",(function(e){var t=e.target;a(new v(t))})),n.open("POST",d._origin+e,!0),Object.keys(s).forEach((function(e){n.setRequestHeader(e,s[e])})),n.send(t)}))},_=function(e,t,s,r){var a=r||d._userID,n=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(s);p(a,e,t);var i=new FormData(n);return i.append("lib_version","3.6.2"),i.append("service_id",e),i.append("template_id",t),i.append("user_id",a),g("/api/v1.0/email/send-form",i)},b=s(6992);var x=s.p+"static/media/check-line.3f29db899e39cb68dca831bea022f649.svg";var j=s.p+"static/media/close-line.058af5b2654112a53b1b0a6d60692ace.svg",S=s(78),w=s(184),Z={email:"",message:""};function C(e){var t=e.title,s=e.sectionNumber,d=(0,o.useState)(Z),p=(0,c.Z)(d,2),h=p[0],f=p[1],v=(0,o.useState)({email:"",message:""}),g=(0,c.Z)(v,2),C=g[0],k=g[1],N=(0,o.useState)(""),R=(0,c.Z)(N,2),T=R[0],y=R[1],q=(0,o.useState)(!1),E=(0,c.Z)(q,2),O=E[0],D=E[1],F=(0,o.useRef)(null),I=(0,o.useRef)(null),V=(0,b.Z)(I,{freezeOnceVisible:!0,threshold:.1}),B=(null===V||void 0===V?void 0:V.isIntersecting)||!1,L=(0,u.useSpringRef)(),M=(0,u.useSpringRef)();function W(e,t){var s;switch(e){case"email":s=/\S+@\S+\.\S+/.test(t);break;case"message":s=t.trim().length>=10}var r="";return s?k((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,n.Z)({},e,""))})):(r="email"===e?"Please enter a valid email address":"The message should be at least 10 characters",k((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,n.Z)({},e,r))}))),r}function H(e){var t=e.target,s=t.id;f((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,n.Z)({},s,t.value))})),C[s]&&W(t.id,t.value)}function P(e){var t=e.target;W(t.id,t.value)}return(0,u.useChain)(B?[L,M]:[],[0,.5]),(0,w.jsxs)("section",{className:l.main+" main_section",ref:I,children:[(0,w.jsx)(m.Z,{title:t,number:s,animationRef:L,visible:B}),(0,w.jsx)(S.Z,{start:{transform:"translateX(-100vw)"},end:{transform:"translate(0)"},animationRef:M,children:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("form",{ref:F,className:l.form,onSubmit:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var s,a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!O){e.next=3;break}return e.abrupt("return");case 3:for(s in a={email:"",message:""},h)n=W(s,h[s]),a[s]=n;if(!Object.values(a).some((function(e){return!!e}))){e.next=7;break}return e.abrupt("return");case 7:return D(!0),e.prev=8,e.next=11,_("service_gyg3uac","template_ccjsl6k",F.current,"62ZSlIE88ghlJb6qw");case 11:D(!1),f(Z),y("success"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),D(!1),y("error");case 20:setTimeout((function(){return y("")}),3e3);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),children:[(0,w.jsxs)("div",{className:l.grid,children:[(0,w.jsx)("label",{htmlFor:"email",children:"Email"}),(0,w.jsx)("label",{htmlFor:"message",children:"Your message"}),(0,w.jsxs)("div",{className:l.input_wrapper,children:[(0,w.jsx)("input",{type:"text",id:"email",name:"user_email",value:h.email,onChange:H,onBlur:P}),(0,w.jsx)("p",{className:l.error_msg,children:C.email})]}),(0,w.jsxs)("div",{className:l.input_wrapper,children:[(0,w.jsx)("textarea",{id:"message",name:"message",value:h.message,onChange:H,onBlur:P}),(0,w.jsx)("p",{className:l.error_msg,children:C.message})]})]}),(0,w.jsx)("button",{className:O?"loading":"",children:O?(0,w.jsxs)("div",{className:"lds-ellipsis",children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]}):"Send email"})]}),T&&(0,w.jsxs)("div",{className:"".concat(l[T]," ").concat(l.send_status),children:[(0,w.jsx)("img",{src:"success"===T?x:j}),(0,w.jsx)("p",{children:"success"===T?"Success. We'll be in touch.":"Something went wrong. Try again."})]})]})})]})}}}]);
//# sourceMappingURL=275.492cc752.chunk.js.map